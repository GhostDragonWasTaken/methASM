// test_gc_alloc.meth
// Tests that the `new` keyword triggers `gc_alloc` via runtime properly.

struct Vector3 {
    x: int32;
    y: int32;
    z: int32;
}

function main(): int32 {
    var v1: Vector3* = new Vector3;
    v1->x = 10;
    v1->y = 20;

    var v2: Vector3* = new Vector3;
    v2->z = 30;

    return v1->x + v1->y + v2->z; // Expecting 60 (exit code)
}
