// Sign extension: int8/int16 widened to int64 must use movsx (not movzx)
// -1 as int8 -> int64 must stay -1; -128 as int8 -> int64 must stay -128
function widen_i8(x: int8) -> int64 {
  return x;
}

function widen_i16(x: int16) -> int64 {
  return x;
}

function main() -> int32 {
  var a: int8 = -1;
  var b: int8 = -128;
  var c: int16 = -32768;
  var x: int64 = widen_i8(a);
  var y: int64 = widen_i8(b);
  var z: int64 = widen_i16(c);
  if (x == -1 && y == -128 && z == -32768) {
    return 1;
  }
  return 0;
}
