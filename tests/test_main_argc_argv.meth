// Test: main with argc and argv (command-line arguments)
// Requires linking methlang_entry.o and shell32 on Windows

import "std/conv";

function main(argc: int32, argv: cstring*) -> int32 {
  // argv[0] is the program name; argc >= 1 means we got at least that
  if (argc < 1) {
    return 1;
  }
  // Check that argv[0] is non-null (program name)
  var name: cstring = argv[0];
  if (name == 0) {
    return 2;
  }
  // Success: we received argc and argv correctly
  return 0;
}
